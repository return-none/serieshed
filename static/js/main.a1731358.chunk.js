(this.webpackJsonpserieshed=this.webpackJsonpserieshed||[]).push([[0],{43:function(e,n,t){},71:function(e,n,t){"use strict";t.r(n);var r,a,i,s,d,c,o,l,u,m,b,g,h,p,j,f,x,v,O,w=t(0),y=t.n(w),k=t(17),I=t.n(k),q=(t(43),t(13)),C=t(3),R=t(9),N=t(2),S=t(4),E=t.p+"static/media/logo.c28e0e51.svg",z=t(1),U=S.a.header(r||(r=Object(C.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n  justify-content: center;\n  padding: var(--navbar-padding);\n\n  user-select: none;\n\n  background-color: rgb(var(--success-rgb));\n\n  position: fixed;\n  top: 0;\n  right: 0;\n  left: 0;\n  z-index: 1000;\n"]))),T=S.a.img(a||(a=Object(C.a)(["\n  vertical-align: middle;\n  height: var(--main-logo-height);\n"]))),B=function(){return Object(z.jsx)(U,{children:Object(z.jsx)(R.b,{draggable:!1,to:"/",children:Object(z.jsx)(T,{src:E,alt:"logo",draggable:!1})})})},J=t(6),M=function(){return Object(q.b)()},W=q.c,X=t(14),A=t.n(X),D=t(25),$=t(11),_="https://api.tvmaze.com",F=/(<([^>]+)>)/gi,G="https://images.placeholders.dev/?width=249&height=373&text={name}&bgColor=%23E9E9E9&textColor=%23212529",H=function(e){return fetch(e).then((function(e){if(e.ok)return e.json();throw new Error(e.statusText)}))},K=Object($.b)("series/fetchSeries",function(){var e=Object(D.a)(A.a.mark((function e(n,t){var r,a,i,s,d,c,o,l;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.getState,a=t.requestId,i=r(),s=i.series.list.status,d=i.series.list.currentRequestId,"pending"===s&&a===d){e.next=6;break}return e.abrupt("return");case 6:return c=_+"/search/shows"+"?q=".concat(encodeURIComponent(i.series.search)),e.next=9,H(c);case 9:return o=e.sent,l=o.map((function(e){return{id:e.show.id,name:e.show.name,summary:null===e.show.summary?"":e.show.summary.replace(F,""),image:e.show.image?e.show.image.original:G.replace("{name}",encodeURIComponent(e.show.name))}})),e.abrupt("return",l);case 12:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),L=Object($.b)("series/fetchDetails",function(){var e=Object(D.a)(A.a.mark((function e(n,t){var r,a,i,s,d,c,o,l,u,m,b,g,h;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.getState,a=t.requestId,i=r(),s=i.series.details.status,d=i.series.details.currentRequestId,"pending"===s&&a===d){e.next=6;break}return e.abrupt("return");case 6:if(void 0===(c=i.series.details.items[n])){e.next=9;break}return e.abrupt("return",c);case 9:if(void 0===(l=i.series.list.items.find((function(e){return String(e.id)===n})))){e.next=14;break}o=l,e.next=19;break;case 14:return u=_+"/shows/{id}".replace("{id}",n),e.next=17,H(u);case 17:m=e.sent,o={id:m.id,name:m.name,summary:null===m.summary?"":m.summary.replace(F,""),image:null!==m.image?m.image.original:G.replace("{name}",encodeURIComponent(m.name))};case 19:return b=_+"/shows/{id}/episodes".replace("{id}",n),e.next=22,H(b);case 22:return g=e.sent,h=g.map((function(e){return{id:e.id,name:e.name,summary:null===e.summary?"":e.summary.replace(F,""),season:e.season,episode:e.number,image:null!==e.image?e.image.original:"https://images.placeholders.dev/?width=427&height=240&text={name}&bgColor=%23E9E9E9&textColor=%23212529".replace("{name}",encodeURIComponent(e.name))}})),e.abrupt("return",{series:o,episodes:h});case 25:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),P=Object($.c)({name:"series",initialState:{search:"",list:{items:[],status:"idle",error:null,currentRequestId:""},details:{items:{},status:"idle",error:null,currentRequestId:""}},reducers:{setSearch:function(e,n){e.search=n.payload},flushSeries:function(e){e.list.items=[]}},extraReducers:function(e){e.addCase(K.pending,(function(e,n){"idle"!==e.list.status&&"fulfilled"!==e.list.status||(e.list.items=[],e.list.error=null,e.list.status="pending",e.list.currentRequestId=n.meta.requestId)})).addCase(K.fulfilled,(function(e,n){var t=n.meta.requestId;if("pending"===e.list.status&&e.list.currentRequestId===t){var r=n.payload;e.list.status="fulfilled",e.list.items=r,e.list.currentRequestId=""}})).addCase(K.rejected,(function(e,n){var t=n.meta.requestId;"pending"===e.list.status&&e.list.currentRequestId===t&&(e.list.items=[],e.list.status="rejected",e.list.error=n.error.message,e.list.currentRequestId="")})),e.addCase(L.pending,(function(e,n){"idle"!==e.list.status&&"fulfilled"!==e.list.status||(e.details.error=null,e.details.status="pending",e.details.currentRequestId=n.meta.requestId)})).addCase(L.fulfilled,(function(e,n){var t=n.meta,r=t.requestId,a=t.arg;"pending"===e.details.status&&e.details.currentRequestId===r&&(e.details.status="fulfilled",e.details.items[a]=n.payload,e.details.currentRequestId="")})).addCase(L.rejected,(function(e,n){var t=n.meta.requestId;"pending"===e.details.status&&e.details.currentRequestId===t&&(e.details.status="rejected",e.details.error=n.error.message,e.details.currentRequestId="")}))}}),Q=P.actions,V=Q.flushSeries,Y=Q.setSearch,Z=P.reducer,ee=S.a.input(i||(i=Object(C.a)(["\n  display: block;\n  width: 100%;\n  padding: 0.375rem 0.75rem;\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  border: 1px solid transparent;\n  box-shadow: 0 0.25rem 0.25rem rgba(var(--main-color-rgb), 0.075);\n  border-radius: var(--border-radius);\n  outline: none;\n"]))),ne=function(e){return Object(z.jsx)(ee,{autoComplete:"off",type:e.type,name:e.name,placeholder:e.placeholder,value:e.value,onChange:function(n){e.onChange(n.target.value)}})},te=t.p+"static/media/error.50f3426a.svg",re=t.p+"static/media/loading.407fa58c.svg",ae=t.p+"static/media/info.ba1c27c8.svg",ie=(S.a.h1(s||(s=Object(C.a)(["\n  text-align: center;\n  margin: 0;\n  width: 100%;\n"]))),S.a.div(d||(d=Object(C.a)(["\n  padding: 1rem;\n  background: rgb(var(--white-rgb));\n  border-radius: var(--border-radius);\n\n  box-shadow: 0 0.25rem 0.25rem rgba(var(--main-color-rgb), 0.075);\n\n  user-select: none;\n"])))),se=S.a.img(c||(c=Object(C.a)(["\n  animation: flip 2s infinite linear;\n\n  @keyframes flip {\n    from {\n      transform: rotateX(0deg);\n    }\n    to {\n      transform: rotateX(-180deg);\n    }\n  }\n"]))),de=function(){return Object(z.jsx)(ie,{children:Object(z.jsx)(se,{src:re,width:"120",alt:"loading",draggable:!1})})},ce=S.a.p(o||(o=Object(C.a)(["\n  margin: 0;\n  text-align: center;\n"]))),oe=function(e){return Object(z.jsxs)(ie,{children:[Object(z.jsx)("img",{src:te,width:"120",alt:"error",draggable:!1}),!!e.text&&Object(z.jsx)(ce,{children:e.text})]})},le=function(e){return Object(z.jsxs)(ie,{children:[Object(z.jsx)("img",{src:ae,width:"120",alt:"info",draggable:!1}),!!e.text&&Object(z.jsx)(ce,{children:e.text})]})},ue=S.a.div(l||(l=Object(C.a)(["\n  user-select: none;\n\n  background-color: rgb(var(--white-rgb));\n  border: 1px solid rgba(var(--white-rgb), 0.1);\n  border-radius: var(--border-radius);\n\n  transition: 300ms;\n\n  &:hover {\n    transform: scale(1.05);\n  }\n\n  & a {\n    text-decoration: none;\n    color: rgb(var(--main-color-rgb));\n  }\n\n  & .poster {\n    width: 100%;\n    border-radius: var(--border-radius) var(--border-radius) 0 0;\n  }\n\n  & .details {\n    padding: 0.5rem;\n\n    .header {\n      margin: 0;\n      margin-bottom: 0.5rem;\n      font-size: 1.25rem;\n    }\n\n    .summary {\n      margin: 0;\n\n      display: -webkit-box;\n      -webkit-line-clamp: 3;\n      -webkit-box-orient: vertical;\n      overflow: hidden;\n    }\n  }\n"]))),me=function(e){return Object(z.jsx)(ue,{children:Object(z.jsxs)(R.b,{draggable:!1,to:"/details/".concat(e.item.id),children:[Object(z.jsx)("img",{className:"poster",src:e.item.image,alt:e.item.name,draggable:!1}),Object(z.jsxs)("div",{className:"details",children:[Object(z.jsx)("h5",{className:"header",children:e.item.name}),Object(z.jsx)("p",{className:"summary",children:e.item.summary})]})]})})},be=S.a.div(u||(u=Object(C.a)(["\n  display: grid;\n  gap: 1rem;\n  grid-template-columns: repeat(4, 1fr);\n\n  @media only screen and (min-device-width: 320px) and (max-device-width: 667px) {\n    grid-template-columns: repeat(2, 1fr);\n  }\n"]))),ge=function(e){return Object(z.jsx)(be,{children:e.list.map((function(e){return Object(z.jsx)(me,{item:e},e.id)}))})},he=S.a.section(m||(m=Object(C.a)(["\n  width: 100%;\n  margin-bottom: 1.25rem;\n  padding: 0 1.25rem;\n\n  position: sticky;\n  top: calc(var(--main-logo-height) + var(--navbar-padding) * 2 + 1.25rem);\n  z-index: 10;\n"]))),pe=S.a.div(b||(b=Object(C.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  padding: 1.25rem;\n  width: 100%;\n"]))),je=function(){var e=Object(w.useState)(!1),n=Object(J.a)(e,2),t=n[0],r=n[1],a=W((function(e){return{status:e.series.list.status,list:e.series.list.items,search:e.series.search,error:e.series.list.error}})),i=a.status,s=a.list,d=a.search,c=a.error,o=M(),l=Object(w.useMemo)((function(){return function(e,n){var t=-1;return function(){-1!==t&&clearTimeout(t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];t=setTimeout.apply(void 0,[e,n].concat(a))}}((function(){r(!1),o(K())}),1e3)}),[o]),u=Object(w.useCallback)((function(e){o(Y(e)),e.length>0?(r(!0),l()):o(V())}),[o,l]);return Object(z.jsxs)(pe,{children:[Object(z.jsx)(he,{children:Object(z.jsx)(ne,{type:"text",name:"search",placeholder:"Search",value:d,onChange:u})}),Object(z.jsxs)("section",{children:["fulfilled"===i&&d.length>0&&s.length>0&&Object(z.jsx)(ge,{list:s}),"pending"===i&&d.length>0&&Object(z.jsx)(de,{}),"rejected"===i&&Object(z.jsx)(oe,{text:c}),"fulfilled"===i&&d.length>0&&0===s.length&&!t&&Object(z.jsx)(le,{text:"Nothing found"})]})]})},fe=t(38),xe=t.n(fe),ve=t(26),Oe=t.n(ve),we=t(35),ye=t.n(we),ke=t(37),Ie=t.n(ke),qe=t(36),Ce=t.n(qe),Re=S.a.div(g||(g=Object(C.a)(["\n  position: sticky;\n  top: calc(var(--main-logo-height) + var(--navbar-padding) * 2 + 1rem);\n\n  background-color: rgb(var(--white-rgb));\n\n  border: 1px solid rgba(var(--white-rgb), 0.1);\n  border-radius: var(--border-radius);\n\n  & .poster {\n    border-radius: var(--border-radius) var(--border-radius) 0 0;\n  }\n\n  & .details {\n    padding: 0.5rem;\n\n    .header {\n      margin: 0.25rem 0 0.25rem;\n    }\n\n    .summary {\n      margin: 0;\n      text-align: justify;\n    }\n  }\n"]))),Ne=S.a.section(h||(h=Object(C.a)(["\n  display: grid;\n  grid-template-columns: 22.5% 75%;\n  gap: 2.5%;\n\n  @media only screen and (min-device-width: 320px) and (max-device-width: 667px) {\n    grid-template-columns: 100%;\n  }\n\n  width: 100%;\n\n  user-select: none;\n"]))),Se=S.a.div(p||(p=Object(C.a)(["\n  margin-bottom: 1rem;\n\n  background-color: rgb(var(--white-rgb));\n\n  padding: 0.5rem;\n\n  border: 1px solid rgba(var(--white-rgb), 0.1);\n  border-radius: var(--border-radius);\n\n  & .header {\n    margin: 0;\n    margin-left: 1rem;\n  }\n\n  &:last-child {\n    margin: 0;\n  }\n"]))),Ee=S.a.div(j||(j=Object(C.a)(["\n  display: flex;\n  flex-wrap: nowrap;\n  overflow-x: auto;\n\n  padding: 1rem;\n\n  // NO scrollbar\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n\n  &::-webkit-scrollbar {\n    display: none;\n  }\n"]))),ze=S.a.div(f||(f=Object(C.a)(["\n  flex: 0 0 auto;\n  margin-right: 1.5rem;\n\n  transition: 300ms;\n\n  border-radius: var(--border-radius);\n\n  position: relative;\n\n  padding: 0;\n\n  &:hover {\n    transform: scale(1.05);\n\n    .title {\n      display: block;\n    }\n  }\n\n  &:last-child {\n    margin: 0;\n  }\n\n  img.poster {\n    width: 20rem;\n    vertical-align: middle;\n    border-radius: var(--border-radius);\n    padding: 0;\n  }\n\n  .title {\n    position: absolute;\n    left: 0;\n    right: 0;\n    bottom: 0;\n\n    border-radius: 0 0 var(--border-radius) var(--border-radius);\n\n    margin: 0;\n    padding: 0.5rem;\n    background-color: rgba(var(--black-rgb), 0.25);\n    color: rgb(var(--white-rgb));\n\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    overflow: hidden;\n\n    display: none;\n  }\n"]))),Ue=function(e){var n=ye()(Ce()((function(e){return"".concat(e.season)})),Ie.a,Oe()((function(e,n){return Number(e[0])-Number(n[0])})),xe()((function(e){var n=Object(J.a)(e,2),t=n[0],r=n[1];return{season:t,episodes:Oe()((function(e,n){return Number(e.episode)-Number(n.episode)}),r)}})))(e.item.episodes);return Object(z.jsxs)(Ne,{children:[Object(z.jsx)("aside",{children:Object(z.jsxs)(Re,{children:[Object(z.jsx)("img",{className:"poster",src:e.item.series.image,alt:e.item.series.name,draggable:!1}),Object(z.jsxs)("div",{className:"details",children:[Object(z.jsx)("h2",{className:"header",children:e.item.series.name}),Object(z.jsx)("p",{className:"summary",children:e.item.series.summary})]})]})}),Object(z.jsx)("div",{children:n.length?n.map((function(e){return Object(z.jsxs)(Se,{children:[Object(z.jsxs)("h2",{className:"header",children:["Season ",e.season]}),Object(z.jsx)(Ee,{children:e.episodes.map((function(n){return Object(z.jsxs)(ze,{children:[Object(z.jsx)("img",{className:"poster",src:n.image,alt:n.name,draggable:!1}),Object(z.jsx)("p",{className:"title",children:n.name})]},e.season+"_"+n.episode)}))})]},e.season)})):Object(z.jsx)("p",{children:"No episodes info available"})})]})},Te=S.a.div(x||(x=Object(C.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  padding: 1rem;\n  width: 100%;\n"]))),Be=Object(S.a)(Te)(v||(v=Object(C.a)(["\n  align-self: start;\n"]))),Je=function(){var e=Object(N.g)().id,n=M(),t=W((function(n){return{series:n.series.details.items[e],status:n.series.details.status,error:n.series.details.error}})),r=t.series,a=t.status,i=t.error;return Object(w.useEffect)((function(){void 0===r&&n(L(e))}),[e,r,n]),"fulfilled"===a&&void 0!==r?Object(z.jsx)(Be,{children:Object(z.jsx)(Ue,{item:r})}):"pending"===a?Object(z.jsx)(Te,{children:Object(z.jsx)(de,{})}):"rejected"===a?Object(z.jsx)(Te,{children:Object(z.jsx)(oe,{text:i})}):null},Me=S.a.main(O||(O=Object(C.a)(["\n  min-height: 100%;\n  display: flex;\n  padding: 0;\n  padding-top: calc(var(--main-logo-height) + var(--navbar-padding) * 2);\n\n  max-width: 960px;\n  margin: 0 auto;\n\n  @media only screen and (min-device-width: 375px) and (max-device-width: 667px) and (orientation: landscape) {\n    max-width: 375px;\n  }\n"]))),We=function(){return Object(z.jsxs)(R.a,{children:[Object(z.jsx)(B,{}),Object(z.jsx)(Me,{children:Object(z.jsxs)(N.c,{children:[Object(z.jsx)(N.a,{path:"/",element:Object(z.jsx)(je,{})}),Object(z.jsx)(N.a,{path:"/details/:id",element:Object(z.jsx)(Je,{})})]})})]})},Xe=Object($.a)({reducer:{series:Z}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));I.a.render(Object(z.jsx)(y.a.StrictMode,{children:Object(z.jsx)(q.a,{store:Xe,children:Object(z.jsx)(We,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[71,1,2]]]);
//# sourceMappingURL=main.a1731358.chunk.js.map